<div class="form-container">
  <h3>{{ isEditMode ? 'Edit Job Application' : 'Add New Job Application' }}</h3>
  <p>{{ isEditMode ? 'Update the details of your application.' : 'Track a new job you\'ve applied for.' }}</p>

  <form [formGroup]="jobForm" (ngSubmit)="onSubmit()">

    <div class="form-field">
      <label for="company">Company Name</label>
      <input id="company" type="text" formControlName="company">
      <div *ngIf="f['company'].touched && f['company'].invalid" class="error-msg">
        Company name is required.
      </div>
    </div>

    <div class="form-field">
      <label for="title">Job Title</label>
      <input id="title" type="text" formControlName="title">
      <div *ngIf="f['title'].touched && f['title'].invalid" class="error-msg">
        Job title is required.
      </div>
    </div>

    <div class="form-field">
      <label for="status">Status</label>
      <select id="status" formControlName="status">
        <option>Applied</option>
        <option>Interviewing</option>
        <option>Offer</option>
        <option>Rejected</option>
      </select>
    </div>

    <div class="form-field">
      <label for="deadline">Application Deadline</label>
      <input id="deadline" type="date" formControlName="deadline">
    </div>

    <div class="form-field">
      <label for="jobDescription">Job Description</label>
      <textarea id="jobDescription" formControlName="jobDescription" rows="8"></textarea>
      <div *ngIf="f['jobDescription'].touched && f['jobDescription'].invalid" class="error-msg">
        Job description is required.
      </div>
    </div>

    <div class="form-field">
      <label for="notes">Notes (Optional)</label>
      <textarea id="notes" formControlName="notes" rows="4"></textarea>
    </div>

    <button type="submit" [disabled]="isSubmitting" class="submit-btn">
      {{ isSubmitting ? 'Saving...' : (isEditMode ? 'Update Application' : 'Save Application') }}
    </button>

    <div *ngIf="submitMessage" class="submit-msg" [class.error-msg]="isError">
      {{ submitMessage }}
    </div>
  </form>
</div>