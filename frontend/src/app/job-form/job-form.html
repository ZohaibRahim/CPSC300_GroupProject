<div class="form-container">
  <h3>Add New Job Application</h3>
  <p>Track a new job you've applied for.</p>

  <!-- [formGroup] binds this form to the jobForm object in the .ts file -->
  <form [formGroup]="jobForm" (ngSubmit)="onSubmit()">

    <!-- Company Field -->
    <div class="form-field">
      <label for="company">Company Name</label>
      <input id="company" type="text" formControlName="company">
      <!-- Validation Error Message -->
      <div *ngIf="f['company'].touched && f['company'].invalid" class="error-msg">
        Company name is required.
      </div>
    </div>

    <!-- Job Title Field -->
    <div class="form-field">
      <label for="title">Job Title</label>
      <input id="title" type="text" formControlName="title">
      <!-- Validation Error Message -->
      <div *ngIf="f['title'].touched && f['title'].invalid" class="error-msg">
        Job title is required.
      </div>
    </div>

    <!-- Status Field -->
    <div class="form-field">
      <label for="status">Status</label>
      <select id="status" formControlName="status">
        <option>Applied</option>
        <option>Interviewing</option>
        <option>Offer</option>
        <option>Rejected</option>
      </select>
    </div>

    <!-- Notes Field -->
    <div class="form-field">
      <label for="notes">Notes (Optional)</label>
      <textarea id="notes" formControlName="notes" rows="4"></textarea>
    </div>

    <!-- Submit Button -->
    <button type="submit" [disabled]="isSubmitting" class="submit-btn">
      {{ isSubmitting ? 'Saving...' : 'Save Application' }}
    </button>

    <!-- Submission Status Message -->
    <div *ngIf="submitMessage" class="submit-msg">
      {{ submitMessage }}
    </div>
  </form>
</div>