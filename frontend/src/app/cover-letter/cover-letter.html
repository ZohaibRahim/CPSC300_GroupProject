<div class="form-container">
  <h3>AI Cover Letter Generator</h3>
  <p>Paste the job description below, and our AI will draft a tailored cover letter for you.</p>

  <form [formGroup]="coverLetterForm" (ngSubmit)="onSubmit()">
    
    <div class="form-field">
      <label for="jobDescription">Job Description</label>
      <textarea 
        id="jobDescription" 
        formControlName="jobDescription" 
        placeholder="Paste the full job description here..."
        rows="8">
      </textarea>
      
      <div *ngIf="coverLetterForm.get('jobDescription')?.touched && coverLetterForm.get('jobDescription')?.invalid" class="error-msg">
        Please provide a job description (at least 20 characters).
      </div>
    </div>

    <button type="submit" [disabled]="isGenerating || coverLetterForm.invalid" class="submit-btn">
      {{ isGenerating ? 'Generating...' : 'Generate Cover Letter' }}
    </button>

    <div *ngIf="errorMessage" class="error-msg" style="margin-top: 1rem;">
      {{ errorMessage }}
    </div>

  </form>

  <div *ngIf="generatedLetter" class="result-section">
    <div class="result-header">
      <h4>Your Draft</h4>
      <button type="button" class="copy-btn" (click)="copyToClipboard()">Copy Text</button>
    </div>
    <div class="letter-content">
      {{ generatedLetter }}
    </div>
  </div>

</div>